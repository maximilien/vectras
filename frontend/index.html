<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Vectras</title>
    <link rel="stylesheet" href="/static/styles.css" />
    <!-- Prism.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  </head>
  <body>
    <div id="app">
      <header class="topbar">
        <button id="hamburger" aria-label="menu">‚ò∞</button>
        <div class="brand">Vectras</div>
        <div class="spacer"></div>
        <button id="settings" aria-label="settings">‚öôÔ∏è</button>
        <div id="hamburger-menu" class="menu" aria-hidden="true" role="menu">
          <button id="menu-new" class="menu-item" role="menuitem">‚ûï New chat</button>
          <button id="menu-clear" class="menu-item" role="menuitem">üóëÔ∏è Clear chats</button>
          <hr />
          <button id="menu-settings" class="menu-item" role="menuitem">‚öôÔ∏è Settings</button>
        </div>
      </header>

      <div class="layout" id="layout">
        <aside class="left-pane" id="left-pane">
          <div class="pane-header">
            <button id="left-toggle" class="collapse-btn" aria-controls="left-pane" aria-expanded="true" title="Collapse chats">‚Äπ</button>
            <span>Chats</span>
            <button id="new-chat-btn" class="new-chat-btn" title="New chat">+</button>
          </div>
          <ul id="chat-list" class="list"></ul>
        </aside>

        <main class="center-pane">
          <div id="agent-card" class="agent-card hidden"></div>
          <div id="chat" class="chat"></div>
          <form id="composer" class="composer">
            <input id="input" type="text" placeholder="Type a message..." autocomplete="off" />
            <button type="submit">Send</button>
          </form>
        </main>

        <aside class="right-pane" id="right-pane">
          <div class="pane-header">
            <span>Agents</span>
            <button id="right-toggle" class="collapse-btn" aria-controls="right-pane" aria-expanded="true" title="Collapse agents">‚Ä∫</button>
          </div>
          <ul id="agent-list" class="list"></ul>
        </aside>

        <!-- Resize handles -->
        <div id="left-resize" class="resize-handle left"></div>
        <div id="right-resize" class="resize-handle right"></div>
      </div>

      <!-- Floating edge handles to reopen collapsed panes -->
      <button id="left-handle" class="edge-handle" aria-label="Open chats" title="Open chats">‚Ä∫</button>
      <button id="right-handle" class="edge-handle right" aria-label="Open agents" title="Open agents">‚Äπ</button>

      <div id="settings-panel" class="settings-panel" aria-hidden="true">
        <div class="settings-header">
          <strong>System Status</strong>
          <button id="settings-close" aria-label="close">‚úï</button>
        </div>
        <div class="settings-body">
          <div class="status-section">
            <h3>üñ•Ô∏è Core Services</h3>
            <div class="service-group" id="core-services">
              <div class="service-item">
                <span class="service-name">UI</span>
                <span class="service-url">localhost:8120</span>
                <span class="service-status" data-service="ui">‚è≥ Checking...</span>
              </div>
              <div class="service-item">
                <span class="service-name">API</span>
                <span class="service-url">localhost:8121</span>
                <span class="service-status" data-service="api">‚è≥ Checking...</span>
              </div>
              <div class="service-item">
                <span class="service-name">MCP</span>
                <span class="service-url">localhost:8122</span>
                <span class="service-status" data-service="mcp">‚è≥ Checking...</span>
              </div>
            </div>
          </div>

          <div class="status-section">
            <h3>ü§ñ Agents</h3>
            <div class="service-group" id="agents">
              <div class="service-item">
                <span class="service-name">Supervisor</span>
                <span class="service-url">localhost:8123</span>
                <span class="service-status" data-service="supervisor">‚è≥ Checking...</span>
              </div>
              <div class="service-item">
                <span class="service-name">Log Monitor</span>
                <span class="service-url">localhost:8124</span>
                <span class="service-status" data-service="log-monitor">‚è≥ Checking...</span>
              </div>
              <div class="service-item">
                <span class="service-name">Code Fixer</span>
                <span class="service-url">localhost:8125</span>
                <span class="service-status" data-service="code-fixer">‚è≥ Checking...</span>
              </div>
              <div class="service-item">
                <span class="service-name">Linting</span>
                <span class="service-url">localhost:8127</span>
                <span class="service-status" data-service="linting">‚è≥ Checking...</span>
              </div>
              <div class="service-item">
                <span class="service-name">Testing</span>
                <span class="service-url">localhost:8126</span>
                <span class="service-status" data-service="testing">‚è≥ Checking...</span>
              </div>
              <div class="service-item">
                <span class="service-name">GitHub</span>
                <span class="service-url">localhost:8128</span>
                <span class="service-status" data-service="github">‚è≥ Checking...</span>
              </div>
            </div>
          </div>

          <div class="status-section">
            <h3>üìä System Info</h3>
            <div class="system-info">
              <div class="info-item">
                <span class="info-label">Total Services:</span>
                <span class="info-value" id="total-services">9</span>
              </div>
              <div class="info-item">
                <span class="info-label">Healthy:</span>
                <span class="info-value" id="healthy-count">0</span>
              </div>
              <div class="info-item">
                <span class="info-label">Last Check:</span>
                <span class="info-value" id="last-check">Never</span>
              </div>
            </div>
            <button id="refresh-status" class="refresh-btn">üîÑ Refresh Status</button>
          </div>
        </div>
      </div>
    </div>

    <script src="/static/app.js"></script>
  </body>
  </html>


